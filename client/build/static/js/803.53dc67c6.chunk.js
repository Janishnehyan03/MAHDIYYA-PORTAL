"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[803],{6803:function(e,t,r){r.r(t);var n=r(4165),_=r(5861),l=r(885),o=r(2791),s=r(4802),a=r(6963),i=r(4569),c=r.n(i),d=r(9286),u=r(184);t.default=function(){var e=(0,o.useState)(""),t=(0,l.Z)(e,2),r=t[0],i=t[1],v=(0,o.useState)(null),x=(0,l.Z)(v,2),h=x[0],p=x[1],m=(0,o.useState)(null),g=(0,l.Z)(m,2),f=g[0],b=g[1],y=function(){var e=(0,_.Z)((0,n.Z)().mark((function e(){var t,_,l,o,s,i,u,v,x,h,m,g,f,y,w,k,T,D,S,N,z;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.Z.get("/hall-ticket/special-hallticket/".concat(r));case 3:return i=e.sent,u=i.data,console.log(u),b(null),e.next=9,c().get("/hall-ticket.pdf",{responseType:"arraybuffer"});case 9:return v=e.sent,x=v.data,e.next=13,a.PDFDocument.load(x);case 13:return h=e.sent,m=h.getPages(),g=m[0],f=g.getSize(),y=f.height,w=function(e,t,r,n,_){e.split(",").forEach((function(e,l){g.drawText(e.trim(),{x:t,y:r-l*n,size:_})}))},k=y-470,T=y-525,D=y-580,S=y-645,N=y-698,15,g.drawText(u.name,{x:150,y:y-230,size:12,color:(0,a.rgb)(0,0,0)}),g.drawText((null===u||void 0===u?void 0:u.institution)||"",{x:150,y:y-254,size:9,color:(0,a.rgb)(0,0,0)}),g.drawText((null===u||void 0===u?void 0:u.registerNo)||"",{x:150,y:y-275,size:12,color:(0,a.rgb)(0,0,0)}),g.drawText((null===u||void 0===u?void 0:u.semester)||"",{x:150,y:y-295,size:9,color:(0,a.rgb)(0,0,0)}),g.drawText((null===u||void 0===u?void 0:u.examCentre)||"",{x:200,y:y-360,size:8,color:(0,a.rgb)(0,0,0)}),g.drawText((null===u||void 0===u?void 0:u.method)||"",{x:200,y:y-390,size:9,color:(0,a.rgb)(0,0,0)}),w((null===u||void 0===u||null===(t=u.semesters)||void 0===t?void 0:t.secondSem)||"_____________________",240,k,15,9),w((null===u||void 0===u||null===(_=u.semesters)||void 0===_?void 0:_.forthSem)||"_____________________",240,T,15,9),w((null===u||void 0===u||null===(l=u.semesters)||void 0===l?void 0:l.MAHDIYYAHSecondSem)||"_____________________",240,D,15,9),w((null===u||void 0===u||null===(o=u.semesters)||void 0===o?void 0:o.MAHDIYYAHForthSem)||"_____________________",240,S,15,9),w((null===u||void 0===u||null===(s=u.semesters)||void 0===s?void 0:s.MAHDIYYAHSixthSem)||"_____________________",240,N,15,9),e.next=37,h.save();case 37:z=e.sent,p(z),e.next=45;break;case 41:e.prev=41,e.t0=e.catch(0),console.error("Error fetching student data or PDF",e.t0),b("Error fetching student data or PDF");case 45:case"end":return e.stop()}}),e,null,[[0,41]])})));return function(){return e.apply(this,arguments)}}();return(0,u.jsxs)("div",{className:"max-w-lg mx-auto p-4",children:[(0,u.jsxs)("h1",{className:"text-center font-bold text-xl uppercase my-5 text-sky-800",children:["Download Your Hall Ticket"," "]}),(0,u.jsx)("input",{type:"text",value:r,onChange:function(e){i(e.target.value)},placeholder:"Enter Register Number",className:"w-full p-2 border border-gray-300 rounded"}),(0,u.jsxs)("p",{className:"text-red-500 my-2 italic text-sm lowercase",children:["*Use Only Capital Letters"," "]}),f&&(0,u.jsx)("div",{className:"text-red-500",children:f}),h&&(0,u.jsx)("button",{onClick:function(){try{if(h){var e=new Blob([h],{type:"application/pdf"});(0,s.saveAs)(e,"hall-ticket.pdf")}}catch(f){console.error("Error generating PDF",f),b("Error generating PDF")}},className:"bg-blue-600 hover:bg-blue-600 text-white mr-3 py-2 px-4 rounded",children:"Generate PDF"}),(0,u.jsx)("button",{onClick:y,className:"bg-violet-500 hover:bg-violet-600 text-white py-2 px-4 rounded",children:"GET HALL TICKET"})]})}}}]);
//# sourceMappingURL=803.53dc67c6.chunk.js.map